<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
    <meta charset="utf-8">
    <meta name="generator" content="quarto-1.5.45">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

    <meta name="author" content="Kendra Wyant">

    <title>famCHESS Cleaning EDA</title>
    <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      div.columns{display: flex; gap: min(4vw, 1.5em);}
      div.column{flex: auto; overflow-x: auto;}
      div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
      ul.task-list{list-style: none;}
      ul.task-list li input[type="checkbox"] {
        width: 0.8em;
        margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
        vertical-align: middle;
      }
      /* CSS for syntax highlighting */
      pre > code.sourceCode { white-space: pre; position: relative; }
      pre > code.sourceCode > span { line-height: 1.25; }
      pre > code.sourceCode > span:empty { height: 1.2em; }
      .sourceCode { overflow: visible; }
      code.sourceCode > span { color: inherit; text-decoration: inherit; }
      div.sourceCode { margin: 1em 0; }
      pre.sourceCode { margin: 0; }
      @media screen {
      div.sourceCode { overflow: auto; }
      }
      @media print {
      pre > code.sourceCode { white-space: pre-wrap; }
      pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
      }
      pre.numberSource code
        { counter-reset: source-line 0; }
      pre.numberSource code > span
        { position: relative; left: -4em; counter-increment: source-line; }
      pre.numberSource code > span > a:first-child::before
        { content: counter(source-line);
          position: relative; left: -1em; text-align: right; vertical-align: baseline;
          border: none; display: inline-block;
          -webkit-touch-callout: none; -webkit-user-select: none;
          -khtml-user-select: none; -moz-user-select: none;
          -ms-user-select: none; user-select: none;
          padding: 0 4px; width: 4em;
        }
      pre.numberSource { margin-left: 3em;  padding-left: 4px; }
      div.sourceCode
        {   }
      @media screen {
      pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
      }
    </style>

    <style>
      body.hypothesis-enabled #quarto-embed-header {
        padding-right: 36px;
      }

      #quarto-embed-header {
        height: 3em;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: solid 1px;
      }

      #quarto-embed-header h6 {
        font-size: 1.1em;
        padding-top: 0.6em;
        margin-left: 1em;
        margin-right: 1em;
        font-weight: 400;
      }

      #quarto-embed-header a.quarto-back-link,
      #quarto-embed-header a.quarto-download-embed {
        font-size: 0.8em;
        margin-top: 1em;
        margin-bottom: 1em;
        margin-left: 1em;
        margin-right: 1em;
      }

      .quarto-back-container {
        padding-left: 0.5em;
        display: flex;
      }

      .headroom {
          will-change: transform;
          transition: transform 200ms linear;
      }

      .headroom--pinned {
          transform: translateY(0%);
      }

      .headroom--unpinned {
          transform: translateY(-100%);
      }      
    </style>

    <script>
    window.document.addEventListener("DOMContentLoaded", function () {

      var header = window.document.querySelector("#quarto-embed-header");
      const titleBannerEl = window.document.querySelector("body > #title-block-header");
      if (titleBannerEl) {
        titleBannerEl.style.paddingTop = header.clientHeight + "px";
      }
      const contentEl = window.document.getElementById('quarto-content');
      for (const child of contentEl.children) {
        child.style.paddingTop = header.clientHeight + "px";
        child.style.marginTop = "1em";
      }

      // Use the article root if the `back` call doesn't work. This isn't perfect
      // but should typically work
      window.quartoBackToArticle = () => {
        var currentUrl = window.location.href;
        window.history.back();
        setTimeout(() => {
            // if location was not changed in 100 ms, then there is no history back
            if(currentUrl === window.location.href){              
                // redirect to site root
                window.location.href = "...html";
            }
        }, 100);
      }

      const headroom = new window.Headroom(header, {
        tolerance: 5,
        onPin: function () {
        },
        onUnpin: function () {
        },
      });
      headroom.init();
    });
    </script>

    
<script src="../site_libs/manuscript-notebook/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
     
      </head>

  <body class="quarto-notebook">
    <div id="quarto-embed-header" class="headroom fixed-top bg-primary">
      
      <a onclick="window.quartoBackToArticle(); return false;" class="btn btn-primary quarto-back-link" href=""><i class="bi bi-caret-left"></i> Back to Article</a>
      <h6><i class="bi bi-journal-code"></i> famCHESS Cleaning EDA</h6>

            <a href="../notebooks/eda_cleaning.qmd" class="btn btn-primary quarto-download-embed" download="eda_cleaning.qmd">Download Source</a>
          </div>

     <header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">famCHESS Cleaning EDA</h1>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
        
        <div class="quarto-title-meta">

                <div>
            <div class="quarto-title-meta-heading">Author</div>
            <div class="quarto-title-meta-contents">
                        <p>Kendra Wyant </p>
                      </div>
          </div>
                
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      </div>
    </div>



    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#notes" id="toc-notes" class="nav-link active" data-scroll-target="#notes">Notes</a></li>
  <li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup">Setup</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a>
  <ul class="collapse">
  <li><a href="#cleaning" id="toc-cleaning" class="nav-link" data-scroll-target="#cleaning">Cleaning</a></li>
  <li><a href="#eda" id="toc-eda" class="nav-link" data-scroll-target="#eda">EDA</a></li>
  <li><a href="#save-out-processed-data-for-analyses" id="toc-save-out-processed-data-for-analyses" class="nav-link" data-scroll-target="#save-out-processed-data-for-analyses">Save out processed data for analyses</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">      

       <section id="notes" class="level2">
<h2 class="anchored" data-anchor-id="notes">Notes</h2>
<p>This script reads in the cleaned famCHESS data and performs EDA on final variables.</p>
</section>
<section id="setup" class="level2">
<h2 class="anchored" data-anchor-id="setup">Setup</h2>
<div class="cell-container"><div class="cell-decorator"><pre>In [1]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">conflicts.policy =</span> <span class="st">"depends.ok"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressMessages</span>(<span class="fu">library</span>(tidyverse))</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressMessages</span>(<span class="fu">library</span>(janitor))</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Matrix, <span class="at">exclude =</span> <span class="fu">c</span>(<span class="st">"expand"</span>, <span class="st">"pack"</span>, <span class="st">"unpack"</span>))</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lme4)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_classic</span>()) </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">source_url</span>(<span class="st">"https://github.com/jjcurtin/lab_support/blob/main/format_path.R?raw=true"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ SHA-1 hash of file is "a58e57da996d1b70bb9a5b58241325d6fd78890f"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>path_data <span class="ot">&lt;-</span> <span class="fu">format_path</span>(<span class="st">"studydata/famchess"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<section id="cleaning" class="level3">
<h3 class="anchored" data-anchor-id="cleaning">Cleaning</h3>
<div class="cell-container"><div class="cell-decorator"><pre>In [2]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sav</span>(here<span class="sc">::</span><span class="fu">here</span>(path_data, <span class="st">"Famchess_clean_combined_FINAL.sav"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>dsm <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sav</span>(here<span class="sc">::</span><span class="fu">here</span>(path_data, <span class="st">"FamCHESS_DSM5.sav"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="co"># for stratification check</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Remove participants with inaccurate data (from Olivia’s script):</p>
<ul>
<li>167PT (baseline and 4 month): FAM passed away after baseline</li>
<li>208FAM &amp; 208PT (noted on all timepoints): Might be wholly unreliable since we suspect he is his own partner</li>
<li>365PT (noted on 1 timepoint): Answered relationship questions about her dog, not her son</li>
<li>365FAM (noted on 1 timepoint): Answered relationship questions about romantic partner, not his mom</li>
</ul>
<div class="cell-container"><div class="cell-decorator"><pre>In [3]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>study_id <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"167PT"</span>, <span class="st">"208FAM"</span>, <span class="st">"208PT"</span>, <span class="st">"365PT"</span>, <span class="st">"365FAM"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Recode variables (from Olivia’s script)</p>
<p>195PT: reported prefer not to say for gender on baseline but reported male in TLFB data. Changing to male to match TLFB.</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [4]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender =</span> <span class="fu">if_else</span>(study_id <span class="sc">==</span> <span class="st">"195PT"</span>, <span class="dv">2</span>, gender))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Gender - 2 levels (male / non-male) - TLFB is also coded this way</p>
<ul>
<li>500PT: non-binary</li>
<li>128FAM: Transgender women</li>
</ul>
<p><em>KW: currently setting these two people to Non-male, however, I saw this in scales/measures doc - not enough non-man/ women responses to have 3rd level. For patients, those who don’t fall into groups set to missing</em></p>
<div class="cell-container"><div class="cell-decorator"><pre>In [5]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender_original =</span> gender, </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">gender =</span> <span class="fu">if_else</span>(gender <span class="sc">!=</span> <span class="dv">2</span>, <span class="dv">1</span>, gender),</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">gender =</span> sjlabelled<span class="sc">::</span><span class="fu">set_labels</span>(gender, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Non-male"</span>, <span class="st">"Male"</span>))) </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data<span class="sc">$</span>gender_original)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> data$gender_original   n     percent valid_percent
                    1 775 0.567765568   0.569434240
                    2 580 0.424908425   0.426157237
                    3   2 0.001465201   0.001469508
                    5   4 0.002930403   0.002939015
                   NA   4 0.002930403            NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data<span class="sc">$</span>gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> data$gender   n     percent valid_percent
           1 781 0.572161172     0.5738428
           2 580 0.424908425     0.4261572
          NA   4 0.002930403            NA</code></pre>
</div>
</div></div>
<p>Create binary covariate for race/ethnicity defined as: White only (non-Hispanic) vs.&nbsp;not White only</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [6]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race_white_only =</span> <span class="fu">if_else</span>(ethnicity <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> race_1 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                                     race_2 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> race_3 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                                     race_4 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> race_5 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>                                     race_6 <span class="sc">==</span> <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data<span class="sc">$</span>race_white_only)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> data$race_white_only    n     percent valid_percent
                    0  335 0.245421245     0.2461425
                    1 1026 0.751648352     0.7538575
                   NA    4 0.002930403            NA</code></pre>
</div>
</div></div>
<p>Center non-binary covariates: age and edu</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [7]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age_c =</span> age <span class="sc">-</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p><em>KW: education is not continuous. Is centering best transformation? Maybe instead pick a certain level? Centering on mean for now</em></p>
<div class="cell-container"><div class="cell-decorator"><pre>In [8]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>sjlabelled<span class="sc">::</span><span class="fu">get_labels</span>(data<span class="sc">$</span>edu)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "8th grade or less"                     
[2] "Some high school, but did not graduate"
[3] "High school graduate or GED"           
[4] "Some college or 2 year degree"         
[5] "4-year college graduate"               
[6] "More than 4-year college degree"       </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(data<span class="sc">$</span>edu, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.274798</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data<span class="sc">$</span>edu)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> data$edu   n     percent valid_percent
        1   8 0.005860806   0.005878031
        2  42 0.030769231   0.030859662
        3 266 0.194871795   0.195444526
        4 510 0.373626374   0.374724467
        5 322 0.235897436   0.236590742
        6 213 0.156043956   0.156502572
       NA   4 0.002930403            NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">edu_c =</span> edu <span class="sc">-</span> <span class="fu">mean</span>(edu, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Recode data to have baseline scores of outcomes as covariate</p>
<p><em>KW: 36 study ids provided baseline info but no data at later time points</em></p>
<div class="cell-container"><div class="cell-decorator"><pre>In [9]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>baseline_values <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span>  </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(study_id, </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">hdd_0 =</span> per_heavy_drink_days, </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">pda_0 =</span> per_days_abstinent, </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">oq45_0 =</span> oq45_scored, </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">relationsatisf_0 =</span> relationsatisf_scored, </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">abuse_0 =</span> abuse_scored)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>baseline_values <span class="sc">|&gt;</span> </span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>study_id <span class="sc">%in%</span> <span class="fu">subset</span>(data, time <span class="sc">!=</span> <span class="dv">0</span>)<span class="sc">$</span>study_id) <span class="sc">|&gt;</span> </span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 36 × 6
   study_id hdd_0 pda_0 oq45_0 relationsatisf_0 abuse_0
   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;            &lt;dbl&gt;   &lt;dbl&gt;
 1 110PT    100     0       25               25      NA
 2 111PT     30.6  44.6     50               26      NA
 3 117FAM    NA    NA       32               18      NA
 4 119FAM    NA    NA       29               27       3
 5 119PT     98.3   0.8     64               25      NA
 6 121PT     33.9  66.1     68               31      26
 7 125PT     26.4  73.6     74               21      NA
 8 130FAM    NA    NA       94               23       7
 9 130PT     99.2   0.8    109               25       2
10 139PT      9.2  90.8     80               21      NA
11 140FAM    NA    NA       61               20      NA
12 148FAM    NA    NA       70               17       4
13 148PT     99.2   0.8     74               18       2
14 149PT     75    23.3     30               25      NA
15 155FAM    NA    NA       35               17       2
16 155PT     NA    NA       70               14      NA
17 156FAM    NA    NA       14               20      NA
18 167FAM    NA    NA       15               14      NA
19 181PT     44.7   2.4     45               20       3
20 190FAM    NA    NA       30               17      NA
21 190PT      3.3   0       48               19      NA
22 198PT     29.2   7.5     33               27      NA
23 199PT     14.9  83.5     57               27      NA
24 203FAM    NA    NA       63               21       1
25 203PT     60.3  39.7     28               24      NA
26 205FAM    NA    NA       28               24      NA
27 205PT     79.3  20.7     45               24      NA
28 209PT     53.3  32.5     52               20       1
29 303FAM    NA    NA       54               21      21
30 303PT     43.3  56.7    110               24      19
31 314FAM    NA    NA       81               14      24
32 314PT     45.5  54.5    124               17      36
33 315FAM    NA    NA       71               10       8
34 337FAM    NA    NA       95               18      NA
35 358FAM    NA    NA       81               15      10
36 362FAM    NA    NA       28               28      NA</code></pre>
</div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [10]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(baseline_values, <span class="at">by =</span> <span class="st">"study_id"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p><em>KW: confirm this is okay with John - remove 36 individuals with only baseline data</em></p>
<p><em>KW: Remove partners too?</em></p>
<div class="cell-container"><div class="cell-decorator"><pre>In [11]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>dyad_ids <span class="ot">&lt;-</span> baseline_values <span class="sc">|&gt;</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dyad_id =</span> <span class="fu">str_sub</span>(study_id, <span class="dv">1</span>, <span class="dv">3</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>study_id <span class="sc">%in%</span> <span class="fu">subset</span>(data, time <span class="sc">!=</span> <span class="dv">0</span>)<span class="sc">$</span>study_id) <span class="sc">|&gt;</span> </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(dyad_id) <span class="sc">|&gt;</span> </span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dyad_id =</span> <span class="fu">str_sub</span>(study_id, <span class="dv">1</span>, <span class="dv">3</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dyad_id <span class="sc">%in%</span> dyad_ids) <span class="sc">|&gt;</span> </span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(study_id, dyad_id) <span class="sc">|&gt;</span> </span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">|&gt;</span> </span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(dyad_id) <span class="sc">|&gt;</span> </span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 53 × 2
   study_id dyad_id
   &lt;chr&gt;    &lt;chr&gt;  
 1 110FAM   110    
 2 110PT    110    
 3 111FAM   111    
 4 111PT    111    
 5 117PT    117    
 6 117FAM   117    
 7 119FAM   119    
 8 119PT    119    
 9 121FAM   121    
10 121PT    121    
11 125FAM   125    
12 125PT    125    
13 130FAM   130    
14 130PT    130    
15 139FAM   139    
16 139PT    139    
17 140PT    140    
18 140FAM   140    
19 148FAM   148    
20 148PT    148    
21 149FAM   149    
22 149PT    149    
23 155FAM   155    
24 155PT    155    
25 156PT    156    
26 156FAM   156    
27 167FAM   167    
28 181FAM   181    
29 181PT    181    
30 190FAM   190    
31 190PT    190    
32 198FAM   198    
33 198PT    198    
34 199FAM   199    
35 199PT    199    
36 203FAM   203    
37 203PT    203    
38 205FAM   205    
39 205PT    205    
40 209FAM   209    
41 209PT    209    
42 303FAM   303    
43 303PT    303    
44 314FAM   314    
45 314PT    314    
46 315PT    315    
47 315FAM   315    
48 337PT    337    
49 337FAM   337    
50 358PT    358    
51 358FAM   358    
52 362PT    362    
53 362FAM   362    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dyad_id =</span> <span class="fu">str_sub</span>(study_id, <span class="dv">1</span>, <span class="dv">3</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>dyad_id <span class="sc">%in%</span> dyad_ids) <span class="sc">|&gt;</span> </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>dyad_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Center baseline values of outcomes</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [12]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">hdd_0 =</span> hdd_0 <span class="sc">-</span> <span class="fu">mean</span>(hdd_0, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">pda_0 =</span> pda_0 <span class="sc">-</span> <span class="fu">mean</span>(pda_0, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">oq45_0 =</span> oq45_0 <span class="sc">-</span> <span class="fu">mean</span>(oq45_0, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">relationsatisf_0 =</span> relationsatisf_0 <span class="sc">-</span> <span class="fu">mean</span>(relationsatisf_0, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">abuse_0 =</span> abuse_0 <span class="sc">-</span> <span class="fu">mean</span>(abuse_0, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Center time at the end of the intervention period (8 months).</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [13]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>sjlabelled<span class="sc">::</span><span class="fu">get_labels</span>(data<span class="sc">$</span>time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Baseline" "4 Month"  "8 Month"  "12 Month"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data<span class="sc">$</span>time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> data$time   n   percent
         1 328 0.3534483
         2 315 0.3394397
         3 285 0.3071121</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">time_c =</span> time <span class="sc">-</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
</section>
<section id="eda" class="level3">
<h3 class="anchored" data-anchor-id="eda">EDA</h3>
<p>Remove vars not used in analyses (e.g., keep scale score and remove individual items).</p>
<p><em>KW: COVID acute/residual symptoms was originally listed as covariate but was removed per measures doc (Participants interpreted question differently).</em></p>
<p><em>KW: phq, promis, loneliness, coping, interaction scales not scored or in measures doc. Removed from analyses data set.</em></p>
<div class="cell-container"><div class="cell-decorator"><pre>In [14]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(treatmentskills_1<span class="sc">:</span>treatmentskills_18_recode,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>            oq45_1<span class="sc">:</span>oq45_45, alcoholproblems_1<span class="sc">:</span>alcoholproblems_15, </span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>            relationsatisf_1<span class="sc">:</span>relationsatisf_8, phq_1<span class="sc">:</span>phq_8, </span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>            abuse_1<span class="sc">:</span>abuse_16_yes, promis29_1<span class="sc">:</span>promis29_8, </span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>            abuse_physical_scored<span class="sc">:</span>abuse_psychological_scored, gender_open,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>            loneliness_1<span class="sc">:</span>loneliness_8, healthservice_1, healthservice_2,</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>            healthservice_3,healthservice_4,healthservice_5, </span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>            healthservice_5a_1<span class="sc">:</span>healthservice_5c, </span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>            healthservice_6a_1<span class="sc">:</span>healthservice_8a, healthservice_8b, </span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>            healthservice_9a, healthservice_9b, bonding_1<span class="sc">:</span>bonding_5, </span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>            socrates_1<span class="sc">:</span>socrates_20, coping_1<span class="sc">:</span>coping_25, </span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>            drinkinggoals<span class="sc">:</span>drinkinggoal_7_text, covid_1<span class="sc">:</span>covid_3f,</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>            interaction_1<span class="sc">:</span>interaction_20, drink_druguse_1<span class="sc">:</span>drinkdruguse_8d,</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>            employmentstatus<span class="sc">:</span>notemployed_open, ethnicity<span class="sc">:</span>race_open, </span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>            livewith_1<span class="sc">:</span>livewith_open, er_yn, outpatient_yn, </span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>            inpatient_yn, n_days, mean_drinks_per_day, per_drink_days, </span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>            covid_scored,redcap_event_name, recruitment_id)) <span class="sc">|&gt;</span> </span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">other_medications_yn =</span> healthservice_6,</span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>         <span class="at">readmits_yn =</span> r_eadmits_yn) <span class="sc">|&gt;</span>  <span class="co"># renaming for descriptive/consistency</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(study_id) <span class="sc">|&gt;</span> </span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 928
Columns: 44
$ study_id                    &lt;chr&gt; "100FAM", "100FAM", "100FAM", "100PT", "10…
$ dyad                        &lt;dbl+lbl&gt; 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1,…
$ arm                         &lt;dbl+lbl&gt; 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 2,…
$ group                       &lt;dbl+lbl&gt; 4, 4, 4, 1, 1, 1, 3, 3, 3, 0, 0, 0, 5,…
$ time_string                 &lt;chr&gt; "4 Month", "8 Month", "12 Month", "12 Mont…
$ time                        &lt;dbl+lbl&gt; 1, 2, 3, 3, 1, 2, 1, 2, 3, 1, 2, 3, 1,…
$ comments                    &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", ""…
$ gender                      &lt;dbl+lbl&gt; 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1,…
$ age                         &lt;dbl&gt; 55, 55, 55, 56, 56, 56, 62, 62, 62, 66, 66…
$ edu                         &lt;dbl+lbl&gt; 4, 4, 4, 3, 3, 3, 4, 4, 4, 3, 3, 3, 6,…
$ income                      &lt;dbl+lbl&gt; 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4,…
$ partner_relationship        &lt;dbl+lbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5,…
$ employment                  &lt;dbl+lbl&gt; 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,…
$ days_app_use                &lt;dbl&gt; NA, NA, NA, 8, 32, 12, NA, NA, NA, NA, NA,…
$ per_days_abstinent          &lt;dbl&gt; NA, NA, NA, 0.0, 0.0, 0.0, NA, NA, NA, 98.…
$ per_heavy_drink_days        &lt;dbl&gt; NA, NA, NA, 100.0, 90.8, 100.0, NA, NA, NA…
$ meetings_yn                 &lt;dbl+lbl&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 0,…
$ outpatient_yn_ever          &lt;dbl+lbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ other_psych_treatment_yn    &lt;dbl+lbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,…
$ er_yn_ever                  &lt;dbl+lbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ mat_yn                      &lt;dbl+lbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ other_medications_yn        &lt;dbl+lbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,…
$ inpatient_yn_ever           &lt;dbl+lbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ readmits_yn                 &lt;dbl+lbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ relationship_status         &lt;dbl+lbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
$ relationship_status_open    &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", ""…
$ oq45_scored                 &lt;dbl&gt; 48, 58, 64, 48, 68, 70, 26, 37, 40, 44, 44…
$ relationsatisf_scored       &lt;dbl&gt; 15, 9, 30, 24, 22, 20, 30, 29, 32, 25, 25,…
$ abuse_scored                &lt;dbl&gt; 4, 7, 8, 15, 4, 2, 4, 0, 2, 0, NA, NA, 2, …
$ treatmentskills_scored      &lt;dbl&gt; 2.888889, 2.722222, 3.277778, NA, NA, NA, …
$ peersupport_scored          &lt;dbl&gt; 3.4, 2.6, 2.8, 2.4, 2.2, 2.8, 2.8, 3.6, 2.…
$ socrates_scored             &lt;dbl&gt; NA, NA, NA, 33, 34, 24, NA, NA, NA, 39, 37…
$ socrates_recognition_scored &lt;dbl&gt; NA, NA, NA, 34, 32, 34, NA, NA, NA, 35, 35…
$ socrates_ambivalence_scored &lt;dbl&gt; NA, NA, NA, 17, 18, 17, NA, NA, NA, 13, 14…
$ gender_original             &lt;dbl+lbl&gt; 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1,…
$ race_white_only             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, …
$ age_c                       &lt;dbl&gt; 7.456153, 7.456153, 7.456153, 8.456153, 8.…
$ edu_c                       &lt;dbl&gt; -0.2747979, -0.2747979, -0.2747979, -1.274…
$ hdd_0                       &lt;dbl&gt; NA, NA, NA, 51.00129, 51.00129, 51.00129, …
$ pda_0                       &lt;dbl&gt; NA, NA, NA, -37.4819, -37.4819, -37.4819, …
$ oq45_0                      &lt;dbl&gt; -6.7124324, -6.7124324, -6.7124324, 0.2875…
$ relationsatisf_0            &lt;dbl&gt; -1.52, -1.52, -1.52, -3.52, -3.52, -3.52, …
$ abuse_0                     &lt;dbl&gt; 4.5461538, 4.5461538, 4.5461538, -2.453846…
$ time_c                      &lt;dbl&gt; -1, 0, 1, 1, -1, 0, -1, 0, 1, -1, 0, 1, -1…</code></pre>
</div>
</div></div>
<p>Number of participants</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [15]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(study_id) <span class="sc">|&gt;</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">|&gt;</span> </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>() <span class="co"># 340</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 340</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dyad <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> <span class="co"># partner</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(study_id) <span class="sc">|&gt;</span> </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">|&gt;</span> </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 170</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dyad <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> <span class="co"># patient</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(study_id) <span class="sc">|&gt;</span> </span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">|&gt;</span> </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 170</code></pre>
</div>
</div></div>
<p>Complete dyad (patient + partner) for all participants</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [16]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(study_id) <span class="sc">|&gt;</span> </span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">|&gt;</span> </span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dyad_id =</span> <span class="fu">str_sub</span>(study_id, <span class="dv">1</span>, <span class="dv">3</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(dyad_id) <span class="sc">|&gt;</span> </span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">|&gt;</span> </span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">!=</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 2
# Groups:   dyad_id [0]
# ℹ 2 variables: dyad_id &lt;chr&gt;, n &lt;int&gt;</code></pre>
</div>
</div></div>
<p>Missing data</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [17]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  naniar<span class="sc">::</span><span class="fu">miss_var_summary</span>() <span class="sc">|&gt;</span> </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 44 × 3
   variable                    n_miss pct_miss
   &lt;chr&gt;                        &lt;int&gt;    &lt;num&gt;
 1 readmits_yn                    903   97.3  
 2 abuse_scored                   680   73.3  
 3 abuse_0                        538   58.0  
 4 per_days_abstinent             498   53.7  
 5 per_heavy_drink_days           498   53.7  
 6 socrates_scored                493   53.1  
 7 socrates_recognition_scored    493   53.1  
 8 socrates_ambivalence_scored    493   53.1  
 9 treatmentskills_scored         479   51.6  
10 hdd_0                          464   50    
11 pda_0                          464   50    
12 days_app_use                   455   49.0  
13 other_medications_yn            42    4.53 
14 mat_yn                          39    4.20 
15 peersupport_scored              39    4.20 
16 meetings_yn                     36    3.88 
17 other_psych_treatment_yn        36    3.88 
18 relationship_status             35    3.77 
19 oq45_scored                     35    3.77 
20 relationsatisf_scored           35    3.77 
21 income                          15    1.62 
22 age                              6    0.647
23 age_c                            6    0.647
24 gender                           3    0.323
25 edu                              3    0.323
26 partner_relationship             3    0.323
27 employment                       3    0.323
28 gender_original                  3    0.323
29 race_white_only                  3    0.323
30 edu_c                            3    0.323
31 oq45_0                           3    0.323
32 relationsatisf_0                 3    0.323
33 study_id                         0    0    
34 dyad                             0    0    
35 arm                              0    0    
36 group                            0    0    
37 time_string                      0    0    
38 time                             0    0    
39 comments                         0    0    
40 outpatient_yn_ever               0    0    
41 er_yn_ever                       0    0    
42 inpatient_yn_ever                0    0    
43 relationship_status_open         0    0    
44 time_c                           0    0    </code></pre>
</div>
</div></div>
<p>Missing data for just patients</p>
<ul>
<li>treatmentskills not applicable to patients</li>
<li>abuse and readmits have high missing data</li>
<li>Why days_app_use missing so high?</li>
</ul>
<div class="cell-container"><div class="cell-decorator"><pre>In [18]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dyad <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  naniar<span class="sc">::</span><span class="fu">miss_var_summary</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 44 × 3
   variable                    n_miss pct_miss
   &lt;chr&gt;                        &lt;int&gt;    &lt;num&gt;
 1 treatmentskills_scored         464  100    
 2 readmits_yn                    440   94.8  
 3 abuse_scored                   370   79.7  
 4 abuse_0                        291   62.7  
 5 days_app_use                   151   32.5  
 6 per_days_abstinent              34    7.33 
 7 per_heavy_drink_days            34    7.33 
 8 other_medications_yn            30    6.47 
 9 mat_yn                          29    6.25 
10 socrates_scored                 29    6.25 
11 socrates_recognition_scored     29    6.25 
12 socrates_ambivalence_scored     29    6.25 
13 peersupport_scored              28    6.03 
14 meetings_yn                     26    5.60 
15 other_psych_treatment_yn        26    5.60 
16 relationship_status             25    5.39 
17 oq45_scored                     25    5.39 
18 relationsatisf_scored           25    5.39 
19 income                          12    2.59 
20 age                              6    1.29 
21 age_c                            6    1.29 
22 gender                           3    0.647
23 edu                              3    0.647
24 partner_relationship             3    0.647
25 employment                       3    0.647
26 gender_original                  3    0.647
27 race_white_only                  3    0.647
28 edu_c                            3    0.647
29 oq45_0                           3    0.647
30 relationsatisf_0                 3    0.647
31 study_id                         0    0    
32 dyad                             0    0    
33 arm                              0    0    
34 group                            0    0    
35 time_string                      0    0    
36 time                             0    0    
37 comments                         0    0    
38 outpatient_yn_ever               0    0    
39 er_yn_ever                       0    0    
40 inpatient_yn_ever                0    0    
41 relationship_status_open         0    0    
42 hdd_0                            0    0    
43 pda_0                            0    0    
44 time_c                           0    0    </code></pre>
</div>
</div></div>
<p>Remove <code>readmits_yn</code> as covariate due to low endorsement</p>
<p><em>KW: not sure why so many NAs</em></p>
<div class="cell-container"><div class="cell-decorator"><pre>In [19]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>sjlabelled<span class="sc">::</span><span class="fu">get_labels</span>(data<span class="sc">$</span>readmits_yn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No"  "Yes"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>readmits_yn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Missing data for partners</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [20]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dyad <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  naniar<span class="sc">::</span><span class="fu">miss_var_summary</span>() <span class="sc">|&gt;</span> </span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 43 × 3
   variable                    n_miss pct_miss
   &lt;chr&gt;                        &lt;int&gt;    &lt;num&gt;
 1 per_days_abstinent             464  100    
 2 per_heavy_drink_days           464  100    
 3 socrates_scored                464  100    
 4 socrates_recognition_scored    464  100    
 5 socrates_ambivalence_scored    464  100    
 6 hdd_0                          464  100    
 7 pda_0                          464  100    
 8 abuse_scored                   310   66.8  
 9 days_app_use                   304   65.5  
10 abuse_0                        247   53.2  
11 treatmentskills_scored          15    3.23 
12 other_medications_yn            12    2.59 
13 peersupport_scored              11    2.37 
14 meetings_yn                     10    2.16 
15 other_psych_treatment_yn        10    2.16 
16 mat_yn                          10    2.16 
17 relationship_status             10    2.16 
18 oq45_scored                     10    2.16 
19 relationsatisf_scored           10    2.16 
20 income                           3    0.647
21 study_id                         0    0    
22 dyad                             0    0    
23 arm                              0    0    
24 group                            0    0    
25 time_string                      0    0    
26 time                             0    0    
27 comments                         0    0    
28 gender                           0    0    
29 age                              0    0    
30 edu                              0    0    
31 partner_relationship             0    0    
32 employment                       0    0    
33 outpatient_yn_ever               0    0    
34 er_yn_ever                       0    0    
35 inpatient_yn_ever                0    0    
36 relationship_status_open         0    0    
37 gender_original                  0    0    
38 race_white_only                  0    0    
39 age_c                            0    0    
40 edu_c                            0    0    
41 oq45_0                           0    0    
42 relationsatisf_0                 0    0    
43 time_c                           0    0    </code></pre>
</div>
</div></div>
<p>Participants in each arm</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [21]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study_id) <span class="sc">|&gt;</span> </span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(arm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> arm   n   percent
   0 108 0.3176471
   1 118 0.3470588
   2 114 0.3352941</code></pre>
</div>
</div></div>
<p>Check stratification variables in arms - patient gender identity and alcohol use severity (moderate or severe AUD)</p>
<p>DSM5 criteria: 1 = severe, 2 = moderate, 3 = mild<br>
Group: 0 = patient control, 1 = patient achess, 2 = patient famchess,</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [22]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(dsm <span class="sc">|&gt;</span> <span class="fu">select</span>(study_id, dsm5_criteria), <span class="at">by =</span> <span class="st">"study_id"</span>)</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dyad <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study_id) <span class="sc">|&gt;</span> </span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(group, gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> group  1  2 NA_
     0 22 31   1
     1 26 33   0
     2 23 34   0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dyad <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study_id) <span class="sc">|&gt;</span> </span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(group, dsm5_criteria)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> group  1 2 3 NA_
     0 51 1 1   1
     1 58 1 0   0
     2 50 6 1   0</code></pre>
</div>
</div></div>
<p>Demographic and study related variables</p>
<p>Time string matches time</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [23]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(time, time_string)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> time 12 Month 4 Month 8 Month
    1        0     328       0
    2        0       0     315
    3      285       0       0</code></pre>
</div>
</div></div>
<p><em>KW: discuss with John if we need to do anything with these notes</em></p>
<div class="cell-container"><div class="cell-decorator"><pre>In [24]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>comments <span class="sc">==</span> <span class="st">""</span>) <span class="sc">|&gt;</span> </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(comments)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Missing TLFB"                                                                                                                                                                                       
 [2] "Missing TLFB"                                                                                                                                                                                       
 [3] "Missing survey data"                                                                                                                                                                                
 [4] "Missing TLFB"                                                                                                                                                                                       
 [5] "Missing TLFB"                                                                                                                                                                                       
 [6] "Exclude TLFB. 120pt is the one who had a traumatic brain injury, Dave and I both did their 4 month survey on accident because the participant didn't remember doing it. They gave different answers"
 [7] "Missing TLFB"                                                                                                                                                                                       
 [8] "Missing TLFB"                                                                                                                                                                                       
 [9] "TLFB complete but data was lost"                                                                                                                                                                    
[10] "Missing TLFB"                                                                                                                                                                                       
[11] "Missing survey data"                                                                                                                                                                                
[12] "Missing TLFB"                                                                                                                                                                                       
[13] "Missing survey data"                                                                                                                                                                                
[14] "Missing survey data"                                                                                                                                                                                
[15] "Missing survey data"                                                                                                                                                                                
[16] "Missing survey data"                                                                                                                                                                                
[17] "Missing survey data"                                                                                                                                                                                
[18] "Missing TLFB"                                                                                                                                                                                       
[19] "Missing TLFB"                                                                                                                                                                                       
[20] "TLFB complete but data was lost"                                                                                                                                                                    
[21] "Missing survey data"                                                                                                                                                                                
[22] "Missing survey data"                                                                                                                                                                                
[23] "Missing survey data"                                                                                                                                                                                
[24] "Missing TLFB"                                                                                                                                                                                       
[25] "Missing TLFB"                                                                                                                                                                                       
[26] "Missing TLFB"                                                                                                                                                                                       
[27] "disinterested, rushed, vague during timeline followbacks"                                                                                                                                           
[28] "disinterested, rushed, vague during timeline followbacks"                                                                                                                                           
[29] "disinterested, rushed, vague during timeline followbacks"                                                                                                                                           
[30] "Missing TLFB"                                                                                                                                                                                       
[31] "Missing TLFB"                                                                                                                                                                                       
[32] "Missing TLFB"                                                                                                                                                                                       
[33] "Missing TLFB"                                                                                                                                                                                       
[34] "Missing TLFB"                                                                                                                                                                                       
[35] "Missing TLFB"                                                                                                                                                                                       
[36] "Missing TLFB"                                                                                                                                                                                       
[37] "Missing TLFB"                                                                                                                                                                                       
[38] "Missing survey data"                                                                                                                                                                                
[39] "Missing survey data"                                                                                                                                                                                
[40] "Unreliable answers, was drunk during survey"                                                                                                                                                        
[41] "Unreliable answers, was drunk during survey"                                                                                                                                                        
[42] "Unreliable answers, was drunk during survey"                                                                                                                                                        
[43] "Missing survey data"                                                                                                                                                                                
[44] "Missing survey data"                                                                                                                                                                                
[45] "Note, only 53 days between 4 and 8 month survey"                                                                                                                                                    
[46] "Note, only 37 days between 4 and 8 month survey"                                                                                                                                                    
[47] "during qualitative interview, said partner was just their friend"                                                                                                                                   
[48] "during qualitative interview, said partner was just their friend"                                                                                                                                   
[49] "during qualitative interview, said partner was just their friend"                                                                                                                                   
[50] "during qualitative interview, said partner was just their friend"                                                                                                                                   
[51] "during qualitative interview, said partner was just their friend"                                                                                                                                   
[52] "during qualitative interview, said partner was just their friend"                                                                                                                                   
[53] "TLFB complete but data was lost"                                                                                                                                                                    
[54] "Missing survey data"                                                                                                                                                                                
[55] "Missing survey data"                                                                                                                                                                                
[56] "TLFB complete but data was lost"                                                                                                                                                                    
[57] "Missing survey data"                                                                                                                                                                                
[58] "Missing survey data"                                                                                                                                                                                
[59] "Missing TLFB"                                                                                                                                                                                       
attr(,"format.spss")
[1] "A5000"
attr(,"display_width")
[1] 186</code></pre>
</div>
</div></div>
<p>Income</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [25]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>sjlabelled<span class="sc">::</span><span class="fu">get_labels</span>(data<span class="sc">$</span>income)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Less than $25,000"    "$25,000 to $34,999"   "$35,000 to $49,999"  
[4] "$50,000 to $74,999"   "$75,000 to $99,999"   "$100,000 to $149,999"
[7] "$150,000 to $199,999" "$200,000 or more"    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data<span class="sc">$</span>income)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> data$income   n    percent valid_percent
           1 177 0.19073276    0.19386637
           2  57 0.06142241    0.06243154
           3  91 0.09806034    0.09967141
           4 192 0.20689655    0.21029573
           5 160 0.17241379    0.17524644
           6 144 0.15517241    0.15772180
           7  65 0.07004310    0.07119387
           8  27 0.02909483    0.02957284
          NA  15 0.01616379            NA</code></pre>
</div>
</div></div>
<p>Partner relationship</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [26]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>sjlabelled<span class="sc">::</span><span class="fu">get_labels</span>(data<span class="sc">$</span>partner_relationship)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Romantic partner/spouse" "Parent"                 
[3] "Adult child"             "Other family member"    
[5] "Friend"                  "Recovery Coach"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data<span class="sc">$</span>partner_relationship)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> data$partner_relationship   n     percent valid_percent
                         1 614 0.661637931   0.663783784
                         2  74 0.079741379   0.080000000
                         3  73 0.078663793   0.078918919
                         4  98 0.105603448   0.105945946
                         5  63 0.067887931   0.068108108
                         6   3 0.003232759   0.003243243
                        NA   3 0.003232759            NA</code></pre>
</div>
</div></div>
<p>Employment</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [27]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>sjlabelled<span class="sc">::</span><span class="fu">get_labels</span>(data<span class="sc">$</span>employment)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No"  "Yes"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data<span class="sc">$</span>employment)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> data$employment   n     percent valid_percent
               0 315 0.339439655     0.3405405
               1 610 0.657327586     0.6594595
              NA   3 0.003232759            NA</code></pre>
</div>
</div></div>
<p>Relationship status with partner</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [28]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>sjlabelled<span class="sc">::</span><span class="fu">get_labels</span>(data<span class="sc">$</span>relationship_status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Still together (e.g., as a romantic couple, as family, as friends)"
[2] "Split up but still working on this project together"               
[3] "Split up and not working on this project together"                 
[4] "Other"                                                             </code></pre>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data<span class="sc">$</span>relationship_status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> data$relationship_status   n    percent valid_percent
                        1 762 0.82112069    0.85330347
                        2  62 0.06681034    0.06942889
                        3  24 0.02586207    0.02687570
                        4  45 0.04849138    0.05039194
                       NA  35 0.03771552            NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(relationship_status <span class="sc">==</span> <span class="dv">4</span> <span class="sc">&amp;</span> relationship_status_open <span class="sc">!=</span> <span class="st">""</span>) <span class="sc">|&gt;</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(relationship_status_open)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Still friends but he is unsure how much if at all she is using the app"                                                                         
 [2] "parent"                                                                                                                                         
 [3] "None"                                                                                                                                           
 [4] "None"                                                                                                                                           
 [5] "Not seeing"                                                                                                                                     
 [6] "Little contact"                                                                                                                                 
 [7] "work schedules collide"                                                                                                                         
 [8] "I talk to monthly. He's not too engaged in this."                                                                                               
 [9] "On our way to splitting up"                                                                                                                     
[10] "Going through break up"                                                                                                                         
[11] "She is going to leave me"                                                                                                                       
[12] "excellent, open, honest"                                                                                                                        
[13] "excellent"                                                                                                                                      
[14] "still working on the project together"                                                                                                          
[15] "Support member"                                                                                                                                 
[16] "Mutual"                                                                                                                                         
[17] "Had split up now moving back together this month"                                                                                               
[18] "Still together but really struggling"                                                                                                           
[19] "Limited communication and I couldn't access anything after the 8 month survey, thought maybe we had been removed from the study?"               
[20] "father/daughter"                                                                                                                                
[21] "Steady friends"                                                                                                                                 
[22] "Just friends"                                                                                                                                   
[23] "Sister"                                                                                                                                         
[24] "N/A"                                                                                                                                            
[25] "Mother and daughter"                                                                                                                            
[26] "not good"                                                                                                                                       
[27] "We are cousin we are still working on her recovery"                                                                                             
[28] "estranged but working on this project together"                                                                                                 
[29] "She's still my mother"                                                                                                                          
[30] "Continue to be very close friend"                                                                                                               
[31] "Daughter we're fine"                                                                                                                            
[32] "Temporarily broken up but still living together hoping she can get the drinking under control which will determine if we try to work things out"
[33] "Split up but still working on getting back together and dealing with the alcohol use but in a better place."                                    
[34] "friends"                                                                                                                                        
[35] "Not talking for the last few months"                                                                                                            
attr(,"label")
[1] "Other"
attr(,"format.spss")
[1] "A1000"
attr(,"display_width")
[1] 128</code></pre>
</div>
</div></div>
<p>univariate descriptives of covariates, mediators, moderators and outcome variables</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [29]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age, edu, days_app_use<span class="sc">:</span>abuse_0, <span class="sc">-</span>gender_original, <span class="sc">-</span>age_c, </span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span>relationship_status, <span class="sc">-</span> relationship_status_open) <span class="sc">|&gt;</span> </span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>  skimr<span class="sc">::</span><span class="fu">skim</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">select(…)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">928</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">27</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">27</td>
</tr>
<tr class="odd">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 27%">
<col style="width: 9%">
<col style="width: 13%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">age</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">47.62</td>
<td style="text-align: right;">13.59</td>
<td style="text-align: right;">21.00</td>
<td style="text-align: right;">37.00</td>
<td style="text-align: right;">47.50</td>
<td style="text-align: right;">58.00</td>
<td style="text-align: right;">89.00</td>
<td style="text-align: left;">▅▇▇▃▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">edu</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">4.28</td>
<td style="text-align: right;">1.08</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">4.00</td>
<td style="text-align: right;">4.00</td>
<td style="text-align: right;">5.00</td>
<td style="text-align: right;">6.00</td>
<td style="text-align: left;">▁▅▇▅▃</td>
</tr>
<tr class="odd">
<td style="text-align: left;">days_app_use</td>
<td style="text-align: right;">455</td>
<td style="text-align: right;">0.51</td>
<td style="text-align: right;">41.14</td>
<td style="text-align: right;">38.05</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">6.00</td>
<td style="text-align: right;">32.00</td>
<td style="text-align: right;">74.00</td>
<td style="text-align: right;">161.00</td>
<td style="text-align: left;">▇▃▃▂▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">per_days_abstinent</td>
<td style="text-align: right;">498</td>
<td style="text-align: right;">0.46</td>
<td style="text-align: right;">60.96</td>
<td style="text-align: right;">37.45</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">29.98</td>
<td style="text-align: right;">71.05</td>
<td style="text-align: right;">98.20</td>
<td style="text-align: right;">100.00</td>
<td style="text-align: left;">▅▂▂▃▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">per_heavy_drink_days</td>
<td style="text-align: right;">498</td>
<td style="text-align: right;">0.46</td>
<td style="text-align: right;">24.20</td>
<td style="text-align: right;">33.27</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">5.65</td>
<td style="text-align: right;">34.35</td>
<td style="text-align: right;">100.00</td>
<td style="text-align: left;">▇▂▁▁▂</td>
</tr>
<tr class="even">
<td style="text-align: left;">meetings_yn</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">0.96</td>
<td style="text-align: right;">0.18</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▂</td>
</tr>
<tr class="odd">
<td style="text-align: left;">outpatient_yn_ever</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.18</td>
<td style="text-align: right;">0.39</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▂</td>
</tr>
<tr class="even">
<td style="text-align: left;">other_psych_treatment_yn</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">0.96</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">0.37</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▂</td>
</tr>
<tr class="odd">
<td style="text-align: left;">er_yn_ever</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.22</td>
<td style="text-align: right;">0.41</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▂</td>
</tr>
<tr class="even">
<td style="text-align: left;">mat_yn</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">0.96</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.30</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">other_medications_yn</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">0.95</td>
<td style="text-align: right;">0.35</td>
<td style="text-align: right;">0.48</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▅</td>
</tr>
<tr class="even">
<td style="text-align: left;">inpatient_yn_ever</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.30</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">oq45_scored</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">0.96</td>
<td style="text-align: right;">55.33</td>
<td style="text-align: right;">25.33</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">37.00</td>
<td style="text-align: right;">54.00</td>
<td style="text-align: right;">71.00</td>
<td style="text-align: right;">140.00</td>
<td style="text-align: left;">▃▇▆▂▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">relationsatisf_scored</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">0.96</td>
<td style="text-align: right;">21.64</td>
<td style="text-align: right;">6.40</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">18.00</td>
<td style="text-align: right;">22.00</td>
<td style="text-align: right;">26.00</td>
<td style="text-align: right;">36.00</td>
<td style="text-align: left;">▁▂▆▇▃</td>
</tr>
<tr class="odd">
<td style="text-align: left;">abuse_scored</td>
<td style="text-align: right;">680</td>
<td style="text-align: right;">0.27</td>
<td style="text-align: right;">4.40</td>
<td style="text-align: right;">7.35</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">2.00</td>
<td style="text-align: right;">6.00</td>
<td style="text-align: right;">72.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">treatmentskills_scored</td>
<td style="text-align: right;">479</td>
<td style="text-align: right;">0.48</td>
<td style="text-align: right;">3.11</td>
<td style="text-align: right;">0.51</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">2.83</td>
<td style="text-align: right;">3.13</td>
<td style="text-align: right;">3.47</td>
<td style="text-align: right;">4.00</td>
<td style="text-align: left;">▁▁▃▇▅</td>
</tr>
<tr class="odd">
<td style="text-align: left;">peersupport_scored</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">0.96</td>
<td style="text-align: right;">2.92</td>
<td style="text-align: right;">1.17</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">2.00</td>
<td style="text-align: right;">2.80</td>
<td style="text-align: right;">3.80</td>
<td style="text-align: right;">5.00</td>
<td style="text-align: left;">▆▇▇▅▅</td>
</tr>
<tr class="even">
<td style="text-align: left;">socrates_scored</td>
<td style="text-align: right;">493</td>
<td style="text-align: right;">0.47</td>
<td style="text-align: right;">32.36</td>
<td style="text-align: right;">7.06</td>
<td style="text-align: right;">10.00</td>
<td style="text-align: right;">28.00</td>
<td style="text-align: right;">33.00</td>
<td style="text-align: right;">39.00</td>
<td style="text-align: right;">40.00</td>
<td style="text-align: left;">▁▁▃▅▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">socrates_recognition_scored</td>
<td style="text-align: right;">493</td>
<td style="text-align: right;">0.47</td>
<td style="text-align: right;">25.84</td>
<td style="text-align: right;">6.70</td>
<td style="text-align: right;">7.00</td>
<td style="text-align: right;">22.00</td>
<td style="text-align: right;">26.00</td>
<td style="text-align: right;">31.00</td>
<td style="text-align: right;">35.00</td>
<td style="text-align: left;">▁▂▆▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">socrates_ambivalence_scored</td>
<td style="text-align: right;">493</td>
<td style="text-align: right;">0.47</td>
<td style="text-align: right;">13.48</td>
<td style="text-align: right;">4.25</td>
<td style="text-align: right;">4.00</td>
<td style="text-align: right;">11.00</td>
<td style="text-align: right;">14.00</td>
<td style="text-align: right;">17.00</td>
<td style="text-align: right;">20.00</td>
<td style="text-align: left;">▂▃▅▇▆</td>
</tr>
<tr class="odd">
<td style="text-align: left;">race_white_only</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.76</td>
<td style="text-align: right;">0.43</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▂▁▁▁▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">edu_c</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">1.08</td>
<td style="text-align: right;">-3.27</td>
<td style="text-align: right;">-0.27</td>
<td style="text-align: right;">-0.27</td>
<td style="text-align: right;">0.73</td>
<td style="text-align: right;">1.73</td>
<td style="text-align: left;">▁▅▇▅▃</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hdd_0</td>
<td style="text-align: right;">464</td>
<td style="text-align: right;">0.50</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">36.11</td>
<td style="text-align: right;">-49.00</td>
<td style="text-align: right;">-32.70</td>
<td style="text-align: right;">-6.90</td>
<td style="text-align: right;">39.70</td>
<td style="text-align: right;">51.00</td>
<td style="text-align: left;">▇▆▃▃▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">pda_0</td>
<td style="text-align: right;">464</td>
<td style="text-align: right;">0.50</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">33.84</td>
<td style="text-align: right;">-37.48</td>
<td style="text-align: right;">-35.81</td>
<td style="text-align: right;">-4.18</td>
<td style="text-align: right;">30.32</td>
<td style="text-align: right;">62.52</td>
<td style="text-align: left;">▇▂▂▃▂</td>
</tr>
<tr class="odd">
<td style="text-align: left;">oq45_0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">24.41</td>
<td style="text-align: right;">-55.71</td>
<td style="text-align: right;">-18.71</td>
<td style="text-align: right;">-1.71</td>
<td style="text-align: right;">15.29</td>
<td style="text-align: right;">73.29</td>
<td style="text-align: left;">▂▇▇▃▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">relationsatisf_0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">5.01</td>
<td style="text-align: right;">-18.52</td>
<td style="text-align: right;">-2.52</td>
<td style="text-align: right;">0.48</td>
<td style="text-align: right;">3.48</td>
<td style="text-align: right;">12.48</td>
<td style="text-align: left;">▁▂▇▇▂</td>
</tr>
<tr class="odd">
<td style="text-align: left;">abuse_0</td>
<td style="text-align: right;">538</td>
<td style="text-align: right;">0.42</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">4.55</td>
<td style="text-align: right;">-4.45</td>
<td style="text-align: right;">-3.45</td>
<td style="text-align: right;">-1.45</td>
<td style="text-align: right;">2.30</td>
<td style="text-align: right;">19.55</td>
<td style="text-align: left;">▇▃▁▁▁</td>
</tr>
</tbody>
</table>
</div>
</div></div>
<p>Bivariate correlations for Patient</p>
<p><em>KW: simplify?</em></p>
<div class="cell-container"><div class="cell-decorator"><pre>In [30]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dyad <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age, edu, days_app_use<span class="sc">:</span>abuse_0, <span class="sc">-</span>gender_original, <span class="sc">-</span>age_c,</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span>treatmentskills_scored, <span class="sc">-</span>relationship_status, </span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span>relationship_status_open) <span class="sc">|&gt;</span> </span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cor</span>(<span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                              age   edu days_app_use per_days_abstinent
age                          1.00  0.04         0.21              -0.16
edu                          0.04  1.00        -0.01               0.00
days_app_use                 0.21 -0.01         1.00               0.02
per_days_abstinent          -0.16  0.00         0.02               1.00
per_heavy_drink_days         0.03 -0.13        -0.14              -0.75
meetings_yn                 -0.17 -0.07        -0.03               0.21
outpatient_yn_ever          -0.25 -0.05        -0.19               0.18
other_psych_treatment_yn    -0.04  0.03         0.04               0.09
er_yn_ever                  -0.01 -0.22        -0.01               0.06
mat_yn                      -0.10 -0.02        -0.05               0.02
other_medications_yn         0.08  0.21        -0.13               0.00
inpatient_yn_ever           -0.18 -0.03        -0.19               0.15
oq45_scored                 -0.13 -0.15        -0.13              -0.28
relationsatisf_scored       -0.12  0.09         0.09               0.12
abuse_scored                 0.10  0.05        -0.14              -0.03
peersupport_scored          -0.12 -0.03        -0.09               0.34
socrates_scored             -0.09 -0.05         0.08               0.50
socrates_recognition_scored -0.01 -0.12         0.04              -0.14
socrates_ambivalence_scored  0.11 -0.05         0.18              -0.38
race_white_only              0.21  0.16         0.07               0.14
edu_c                        0.04  1.00        -0.01               0.00
hdd_0                       -0.03 -0.29        -0.23              -0.41
pda_0                       -0.14  0.09         0.09               0.58
oq45_0                      -0.29 -0.19        -0.18              -0.09
relationsatisf_0            -0.13 -0.06         0.05               0.11
abuse_0                     -0.15 -0.16        -0.14               0.11
                            per_heavy_drink_days meetings_yn outpatient_yn_ever
age                                         0.03       -0.17              -0.25
edu                                        -0.13       -0.07              -0.05
days_app_use                               -0.14       -0.03              -0.19
per_days_abstinent                         -0.75        0.21               0.18
per_heavy_drink_days                        1.00       -0.12              -0.10
meetings_yn                                -0.12        1.00               0.39
outpatient_yn_ever                         -0.10        0.39               1.00
other_psych_treatment_yn                   -0.07        0.23               0.34
er_yn_ever                                 -0.08        0.09               0.23
mat_yn                                      0.01        0.19               0.30
other_medications_yn                       -0.02        0.07               0.15
inpatient_yn_ever                          -0.08        0.26               0.49
oq45_scored                                 0.30        0.14               0.09
relationsatisf_scored                      -0.12       -0.05               0.01
abuse_scored                               -0.04        0.16               0.09
peersupport_scored                         -0.23        0.34               0.15
socrates_scored                            -0.43        0.24               0.16
socrates_recognition_scored                 0.27        0.22               0.05
socrates_ambivalence_scored                 0.33       -0.07              -0.15
race_white_only                            -0.06       -0.06              -0.15
edu_c                                      -0.13       -0.07              -0.05
hdd_0                                       0.51        0.02               0.06
pda_0                                      -0.42        0.15               0.05
oq45_0                                      0.12        0.24               0.12
relationsatisf_0                           -0.07       -0.02               0.12
abuse_0                                    -0.13        0.25               0.18
                            other_psych_treatment_yn er_yn_ever mat_yn
age                                            -0.04      -0.01  -0.10
edu                                             0.03      -0.22  -0.02
days_app_use                                    0.04      -0.01  -0.05
per_days_abstinent                              0.09       0.06   0.02
per_heavy_drink_days                           -0.07      -0.08   0.01
meetings_yn                                     0.23       0.09   0.19
outpatient_yn_ever                              0.34       0.23   0.30
other_psych_treatment_yn                        1.00       0.10   0.15
er_yn_ever                                      0.10       1.00   0.23
mat_yn                                          0.15       0.23   1.00
other_medications_yn                            0.32      -0.03   0.22
inpatient_yn_ever                               0.09       0.30   0.35
oq45_scored                                     0.13       0.21   0.21
relationsatisf_scored                          -0.04      -0.07   0.00
abuse_scored                                   -0.01       0.18   0.00
peersupport_scored                              0.17       0.02   0.04
socrates_scored                                 0.12       0.08   0.06
socrates_recognition_scored                    -0.04       0.09   0.11
socrates_ambivalence_scored                    -0.20      -0.02   0.02
race_white_only                                 0.00      -0.22   0.02
edu_c                                           0.03      -0.22  -0.02
hdd_0                                          -0.07       0.11   0.01
pda_0                                           0.06      -0.06   0.07
oq45_0                                          0.10       0.29   0.16
relationsatisf_0                               -0.02      -0.02   0.01
abuse_0                                         0.03      -0.01  -0.04
                            other_medications_yn inpatient_yn_ever oq45_scored
age                                         0.08             -0.18       -0.13
edu                                         0.21             -0.03       -0.15
days_app_use                               -0.13             -0.19       -0.13
per_days_abstinent                          0.00              0.15       -0.28
per_heavy_drink_days                       -0.02             -0.08        0.30
meetings_yn                                 0.07              0.26        0.14
outpatient_yn_ever                          0.15              0.49        0.09
other_psych_treatment_yn                    0.32              0.09        0.13
er_yn_ever                                 -0.03              0.30        0.21
mat_yn                                      0.22              0.35        0.21
other_medications_yn                        1.00              0.08        0.09
inpatient_yn_ever                           0.08              1.00        0.18
oq45_scored                                 0.09              0.18        1.00
relationsatisf_scored                       0.08             -0.04       -0.37
abuse_scored                               -0.08              0.02       -0.06
peersupport_scored                          0.13              0.14       -0.13
socrates_scored                             0.02              0.13       -0.28
socrates_recognition_scored                 0.05              0.09        0.24
socrates_ambivalence_scored                -0.05             -0.16        0.17
race_white_only                             0.16             -0.06       -0.10
edu_c                                       0.21             -0.03       -0.15
hdd_0                                      -0.04              0.08        0.27
pda_0                                       0.06              0.03       -0.20
oq45_0                                     -0.09              0.20        0.62
relationsatisf_0                            0.11              0.03       -0.21
abuse_0                                    -0.20             -0.13       -0.07
                            relationsatisf_scored abuse_scored
age                                         -0.12         0.10
edu                                          0.09         0.05
days_app_use                                 0.09        -0.14
per_days_abstinent                           0.12        -0.03
per_heavy_drink_days                        -0.12        -0.04
meetings_yn                                 -0.05         0.16
outpatient_yn_ever                           0.01         0.09
other_psych_treatment_yn                    -0.04        -0.01
er_yn_ever                                  -0.07         0.18
mat_yn                                       0.00         0.00
other_medications_yn                         0.08        -0.08
inpatient_yn_ever                           -0.04         0.02
oq45_scored                                 -0.37        -0.06
relationsatisf_scored                        1.00        -0.16
abuse_scored                                -0.16         1.00
peersupport_scored                           0.08         0.01
socrates_scored                              0.23         0.06
socrates_recognition_scored                 -0.10         0.05
socrates_ambivalence_scored                 -0.02         0.22
race_white_only                             -0.04        -0.21
edu_c                                        0.09         0.05
hdd_0                                       -0.14        -0.03
pda_0                                        0.07         0.03
oq45_0                                      -0.23         0.18
relationsatisf_0                             0.57        -0.18
abuse_0                                     -0.28         0.33
                            peersupport_scored socrates_scored
age                                      -0.12           -0.09
edu                                      -0.03           -0.05
days_app_use                             -0.09            0.08
per_days_abstinent                        0.34            0.50
per_heavy_drink_days                     -0.23           -0.43
meetings_yn                               0.34            0.24
outpatient_yn_ever                        0.15            0.16
other_psych_treatment_yn                  0.17            0.12
er_yn_ever                                0.02            0.08
mat_yn                                    0.04            0.06
other_medications_yn                      0.13            0.02
inpatient_yn_ever                         0.14            0.13
oq45_scored                              -0.13           -0.28
relationsatisf_scored                     0.08            0.23
abuse_scored                              0.01            0.06
peersupport_scored                        1.00            0.39
socrates_scored                           0.39            1.00
socrates_recognition_scored               0.11            0.04
socrates_ambivalence_scored              -0.14           -0.11
race_white_only                          -0.02            0.02
edu_c                                    -0.03           -0.05
hdd_0                                    -0.09           -0.17
pda_0                                     0.15            0.21
oq45_0                                    0.07           -0.01
relationsatisf_0                          0.10            0.17
abuse_0                                   0.04            0.08
                            socrates_recognition_scored
age                                               -0.01
edu                                               -0.12
days_app_use                                       0.04
per_days_abstinent                                -0.14
per_heavy_drink_days                               0.27
meetings_yn                                        0.22
outpatient_yn_ever                                 0.05
other_psych_treatment_yn                          -0.04
er_yn_ever                                         0.09
mat_yn                                             0.11
other_medications_yn                               0.05
inpatient_yn_ever                                  0.09
oq45_scored                                        0.24
relationsatisf_scored                             -0.10
abuse_scored                                       0.05
peersupport_scored                                 0.11
socrates_scored                                    0.04
socrates_recognition_scored                        1.00
socrates_ambivalence_scored                        0.56
race_white_only                                   -0.01
edu_c                                             -0.12
hdd_0                                              0.14
pda_0                                              0.01
oq45_0                                             0.20
relationsatisf_0                                   0.02
abuse_0                                           -0.03
                            socrates_ambivalence_scored race_white_only edu_c
age                                                0.11            0.21  0.04
edu                                               -0.05            0.16  1.00
days_app_use                                       0.18            0.07 -0.01
per_days_abstinent                                -0.38            0.14  0.00
per_heavy_drink_days                               0.33           -0.06 -0.13
meetings_yn                                       -0.07           -0.06 -0.07
outpatient_yn_ever                                -0.15           -0.15 -0.05
other_psych_treatment_yn                          -0.20            0.00  0.03
er_yn_ever                                        -0.02           -0.22 -0.22
mat_yn                                             0.02            0.02 -0.02
other_medications_yn                              -0.05            0.16  0.21
inpatient_yn_ever                                 -0.16           -0.06 -0.03
oq45_scored                                        0.17           -0.10 -0.15
relationsatisf_scored                             -0.02           -0.04  0.09
abuse_scored                                       0.22           -0.21  0.05
peersupport_scored                                -0.14           -0.02 -0.03
socrates_scored                                   -0.11            0.02 -0.05
socrates_recognition_scored                        0.56           -0.01 -0.12
socrates_ambivalence_scored                        1.00           -0.08 -0.05
race_white_only                                   -0.08            1.00  0.16
edu_c                                             -0.05            0.16  1.00
hdd_0                                              0.20           -0.10 -0.29
pda_0                                             -0.19            0.09  0.09
oq45_0                                             0.10           -0.20 -0.19
relationsatisf_0                                   0.00           -0.10 -0.06
abuse_0                                            0.04           -0.14 -0.16
                            hdd_0 pda_0 oq45_0 relationsatisf_0 abuse_0
age                         -0.03 -0.14  -0.29            -0.13   -0.15
edu                         -0.29  0.09  -0.19            -0.06   -0.16
days_app_use                -0.23  0.09  -0.18             0.05   -0.14
per_days_abstinent          -0.41  0.58  -0.09             0.11    0.11
per_heavy_drink_days         0.51 -0.42   0.12            -0.07   -0.13
meetings_yn                  0.02  0.15   0.24            -0.02    0.25
outpatient_yn_ever           0.06  0.05   0.12             0.12    0.18
other_psych_treatment_yn    -0.07  0.06   0.10            -0.02    0.03
er_yn_ever                   0.11 -0.06   0.29            -0.02   -0.01
mat_yn                       0.01  0.07   0.16             0.01   -0.04
other_medications_yn        -0.04  0.06  -0.09             0.11   -0.20
inpatient_yn_ever            0.08  0.03   0.20             0.03   -0.13
oq45_scored                  0.27 -0.20   0.62            -0.21   -0.07
relationsatisf_scored       -0.14  0.07  -0.23             0.57   -0.28
abuse_scored                -0.03  0.03   0.18            -0.18    0.33
peersupport_scored          -0.09  0.15   0.07             0.10    0.04
socrates_scored             -0.17  0.21  -0.01             0.17    0.08
socrates_recognition_scored  0.14  0.01   0.20             0.02   -0.03
socrates_ambivalence_scored  0.20 -0.19   0.10             0.00    0.04
race_white_only             -0.10  0.09  -0.20            -0.10   -0.14
edu_c                       -0.29  0.09  -0.19            -0.06   -0.16
hdd_0                        1.00 -0.75   0.22            -0.06   -0.02
pda_0                       -0.75  1.00  -0.13             0.05    0.12
oq45_0                       0.22 -0.13   1.00            -0.27    0.22
relationsatisf_0            -0.06  0.05  -0.27             1.00   -0.25
abuse_0                     -0.02  0.12   0.22            -0.25    1.00</code></pre>
</div>
</div></div>
</section>
<section id="save-out-processed-data-for-analyses" class="level3">
<h3 class="anchored" data-anchor-id="save-out-processed-data-for-analyses">Save out processed data for analyses</h3>
<div class="cell-container"><div class="cell-decorator"><pre>In [31]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(path_data, <span class="st">"famchess_data_ana.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
</section>
</section>
     </main>
<!-- /main column -->  <script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>  </div> <!-- /content --> 
  
</body></html>